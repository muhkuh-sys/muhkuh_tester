<project xmlns:ivy="antlib:org.apache.ivy.ant" xmlns:if="ant:if" name="muhkuh_tester_cli" default="install">
	<target name="install" description="install all components">
		<echo>org.muhkuh.tools.muhkuh_tester_cli</echo>
		
		<copy todir="${install.documentation}" includeEmptyDirs="true">
			<fileset dir="doc" />
		</copy>
		
		<copy todir="${install.lua}" includeEmptyDirs="true">
			<fileset dir="lua" />
		</copy>
		
		<!-- Generate the parameters.txt and system.lua files. -->
		<xslt in="${mbs.test.root}/tests.xml" out="${install.base}/system.lua" style="templates/system.xsl"/>
		<xslt in="${mbs.test.root}/tests.xml" out="${install.base}/parameters.txt" style="templates/parameters.xsl"/>
		
		<!-- Generate the install script for the test cases. -->
		<xslt in="${mbs.test.root}/tests.xml" out="install_testcases.xml" style="templates/install_testcases.xsl"/>
		
		<!-- Run the generated install script. -->
		<ant antfile="install_testcases.xml" inheritAll="true" inheritRefs="true" />
	</target>
</project>
